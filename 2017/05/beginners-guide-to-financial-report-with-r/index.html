<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"\/",
  "author": {
    "@type": "Person",
    "name": "Christoph Freier",
    
    "image": "/image/bio.png"
    
  },
  "name":"In Code We Trust",
  "description":"If you can read a nutrition label, you can do a basic financial statements.",
  "url":"\/2017\/05\/beginners-guide-to-financial-report-with-r\/",
  "keywords":"[, rstats, data science]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.120.4 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="Christoph Freier">
<meta name="keywords" content=", rstats, data science">
<meta name="description" content="If you can read a nutrition label, you can do a basic financial statements.">


<meta property="og:description" content="If you can read a nutrition label, you can do a basic financial statements.">
<meta property="og:type" content="article">
<meta property="og:title" content="Beginners&#39; Guide to Financial Report with R">
<meta name="twitter:title" content="Beginners&#39; Guide to Financial Report with R">
<meta property="og:url" content="/2017/05/beginners-guide-to-financial-report-with-r/">
<meta property="twitter:url" content="/2017/05/beginners-guide-to-financial-report-with-r/">
<meta property="og:site_name" content="In Code We Trust">
<meta property="og:description" content="If you can read a nutrition label, you can do a basic financial statements.">
<meta name="twitter:description" content="If you can read a nutrition label, you can do a basic financial statements.">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2017-05-26T00:00:00">
  
  
    <meta property="article:modified_time" content="2017-05-26T00:00:00">
  
  
  
    
      <meta property="article:section" content="Descriptive Statistics">
    
      <meta property="article:section" content="Financial Report">
    
  
  
    
      <meta property="article:tag" content="lubridate">
    
      <meta property="article:tag" content="ggplot2">
    
      <meta property="article:tag" content="dplyr">
    
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@ChristophFreier">


  <meta name="twitter:creator" content="@ChristophFreier">






  <meta property="og:image" content="/image/bio.png">
  <meta property="twitter:image" content="/image/bio.png">




  <meta property="og:image" content="https://raw.githubusercontent.com/Kawameicha/Kawameicha.github.io/master/image/cover/money.png">
  <meta property="twitter:image" content="https://raw.githubusercontent.com/Kawameicha/Kawameicha.github.io/master/image/cover/money.png">


  <meta property="og:image" content="https://raw.githubusercontent.com/Kawameicha/Kawameicha.github.io/master/image/thumbnail/wallet.png">
  <meta property="twitter:image" content="https://raw.githubusercontent.com/Kawameicha/Kawameicha.github.io/master/image/thumbnail/wallet.png">


    <title>Beginners&#39; Guide to Financial Report with R</title>

    <link rel="icon" href="../../../image/favicon.ico">
    

    

    <link rel="canonical" href="../../../2017/05/beginners-guide-to-financial-report-with-r/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.css" integrity="sha512-MLcK/YRapzET1qTBXrOiZE6bGBgtATMo2bIyalVJ8EKDEGNoeA3SPQkvWAR0zNS650YG13ocXBMeioDuZcSRuQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="../../../css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-166670924-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="../../../" aria-label="Go to homepage">In Code We Trust</a>
  </div>
  
    
      <a class="header-right-picture "
         href="../../../#about" aria-label="Open the link: /#about">
    
    
    
      
        <img class="header-picture" src="../../../image/bio.png" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="../../../#about" aria-label="Read more about the author">
          <img class="sidebar-profile-picture" src="../../../image/bio.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Christoph Freier</h4>
        
          <h5 class="sidebar-profile-bio">Hello, my name is Christoph Freier. Regularly, people stop me on the street and ask me <em>&ldquo;hey, what&rsquo;s your name?&rdquo;</em> I reply my name is Christoph Freier and I rock a great mustache.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../" title="Home">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../categories" title="Categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-sitemap"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../tags" title="Tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../page/projects" title="Projects">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Projects</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../page/useful-resources" title="Resources">
    
      <i class="sidebar-button-icon fa fa-lg fa-book"></i>
      
      <span class="sidebar-button-desc">Resources</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../page/about-me" title="About Me">
    
      <i class="sidebar-button-icon fas fa-lg fa-id-card" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">About Me</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/kawameicha" title="GitHub">
    
      <i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/christophfreier/" title="LinkedIn">
    
      <i class="sidebar-button-icon fab fa-lg fa-linkedin" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">LinkedIn</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/10705596/christoph-freier" title="Stack Overflow">
    
      <i class="sidebar-button-icon fab fa-lg fa-stack-overflow" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/ChristophFreier" title="Twitter">
    
      <i class="sidebar-button-icon fab fa-lg fa-twitter" aria-hidden="true"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="mailto:christoph@freier.fr" target="_blank" rel="noopener" title="Email me">
    
      <i class="sidebar-button-icon fa fa-lg fa-envelope"></i>
      
      <span class="sidebar-button-desc">Email me</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      
  <div class="post-header-cover
              text-left
              post-header-cover--partial"
       style="background-image:url('https://raw.githubusercontent.com/Kawameicha/Kawameicha.github.io/master/image/cover/money.png')"
       data-behavior="5">
    
      <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      Beginners&#39; Guide to Financial Report with R
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2017-05-26T00:00:00Z">
        
  
  
  
  
    May 26, 2017
  

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="../../../categories/descriptive-statistics">Descriptive Statistics</a>, 
    
      <a class="category-link" href="../../../categories/financial-report">Financial Report</a>
    
  

  </div>

</div>
    
  </div>


      <div id="main" data-behavior="5"
        class="hasCover
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              
<script src="../../../rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>I’ve been doing basic accounting for a while now and last year I discovered the simple, yet powerful application <a href="http://debitandcreditapp.com">Debit &amp; Credit</a>. I always thought it was a bit of a hassle, but ever since I’ve started to use it, I’ve been keeping track of every single expense. It does exactly what it tells: keeping financial records and never accessing my data. Of course this isn’t rocket science but it’s useful.</p>
<p>This post isn’t designed to help you gain an understanding of how to a read financial report and I assume you know how to read the basic parts already. If not, you know that <a href="https://en.wikipedia.org/wiki/Debits_and_credits">wikipedia</a> is always happy to help. I will not train you to be an accountant, but we should be able to look at a dataset of financial statements and try to reproduce some of the usually reported graphs.</p>
<p>But first things first, and before looking at what financial statements show, we need some data.</p>
<div id="show-me-the-money" class="section level1">
<h1>Show me the money!</h1>
<p>Yes! And preferably not mine. I value my privacy and I would prefer not to release any accurate financial information about myself. I strictly follow Donald T. advices on that.</p>
<p>Let’s rather define a function that can automatically generate fake debits.</p>
<pre class="r"><code>generatedebit &lt;- function(n = 10, start = &#39;2016/01/01&#39;, end = &#39;2016/12/31&#39;) {
  # Define function that automatically generates debits
  df &lt;- data.frame(Days = sort(sample(seq(as.Date(start), as.Date(end), by = &quot;day&quot;),
                                     n, replace = TRUE)),
                  Description = sample(c(&quot;Debit Card&quot;, &quot;Credit Card&quot;, &quot;Direct Debit&quot;, &quot;Transfer&quot;),
                                       n, replace = TRUE, prob = c(.75, .15, .05, .05)),
                  Category = sample(c(&quot;Food&quot;, &quot;Restaurant&quot;, &quot;Travel&quot;,
                                      &quot;Going Out&quot;, &quot;Health&quot;, &quot;Household&quot;,
                                      &quot;Taxes&quot;, &quot;Bills&quot;, &quot;Leisures&quot;),
                                    n, replace = TRUE),
                  Payee = sample(LETTERS[1:20], n, replace = TRUE),
                  Tag = sample(c(&quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;, NA),
                               n, replace = TRUE, prob = c(.05, .15, .1, .7)),
                  Account = sample(c(&quot;Barclays&quot;, &quot;HSBC&quot;),
                                   n, replace = TRUE, prob = c(.8, .2)),
                  Amount = sample(-250:-1, n, replace = TRUE))

  return(df)
}</code></pre>
<p>I voluntarily add some metadata too, like a description, categories, and some sample payees so as to make it look more like a real exported all account summary. Let’s assume I’ve put some tags as well and I have accounts opened at two different institutions.</p>
<p>Here is what a sample output looks like for <code>n = 10</code>.</p>
<pre class="r"><code>generatedebit()
##          Days Description   Category Payee  Tag  Account Amount
## 1  2016-01-13  Debit Card      Taxes     C &lt;NA&gt; Barclays   -224
## 2  2016-04-09  Debit Card   Leisures     R &lt;NA&gt; Barclays    -35
## 3  2016-04-24 Credit Card Restaurant     D &lt;NA&gt;     HSBC   -217
## 4  2016-05-04  Debit Card     Travel     C &lt;NA&gt; Barclays    -14
## 5  2016-06-21  Debit Card      Bills     G Blue Barclays   -195
## 6  2016-06-25  Debit Card Restaurant     F &lt;NA&gt; Barclays   -162
## 7  2016-09-29  Debit Card       Food     T &lt;NA&gt;     HSBC   -114
## 8  2016-10-01  Debit Card     Travel     G &lt;NA&gt; Barclays    -91
## 9  2016-10-02  Debit Card      Bills     R &lt;NA&gt; Barclays    -49
## 10 2016-11-21    Transfer Restaurant     G &lt;NA&gt;     HSBC   -101</code></pre>
<p>Of course, it’s really good to spend money for all these shiny things, but we need to receive revenue for that. Let’s add another function that generates fake credits. Less <code>sample</code> uses there as I always get my money directly transferred to my account.</p>
<pre class="r"><code>generatecredit &lt;- function(n = 12, amount = 3500, start = &#39;2016/01/01&#39;, end = &#39;2016/12/31&#39;) {
  # Define function that automatically generates credits
  df &lt;- data.frame(Days = sort(sample(seq(as.Date(start), as.Date(end), by = &quot;month&quot;),
                                     n, replace = FALSE)),
                  Description = rep(&quot;Transfer&quot;, n, replace = TRUE),
                  Category = rep(&quot;Salary&quot;, n, replace = TRUE),
                  Payee = rep(&quot;Kawa&amp;Co.&quot;, n, replace = TRUE),
                  Tag = rep(&quot;Hooray&quot;, n, replace = TRUE),
                  Account = rep(&quot;Barclays&quot;, n, replace = TRUE),
                  Amount = rep(amount, n, replace = TRUE))

  return(df)
}</code></pre>
<p>With <code>replace = FALSE</code> it gives by default one salary of $3500 on the first day of each month.</p>
<pre class="r"><code>generatecredit()
##          Days Description Category    Payee    Tag  Account Amount
## 1  2016-01-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 2  2016-02-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 3  2016-03-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 4  2016-04-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 5  2016-05-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 6  2016-06-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 7  2016-07-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 8  2016-08-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 9  2016-09-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 10 2016-10-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 11 2016-11-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500
## 12 2016-12-01    Transfer   Salary Kawa&amp;Co. Hooray Barclays   3500</code></pre>
<p>You can easily increase the amount of money you’re earning each month. Unfortunately, I’ve to confess that I’ve not been able to find a way to make the money show up directly on my account. I’m working hard to fix this minor issue, believe me!</p>
</div>
<div id="how-much-do-i-spend-per-month" class="section level1">
<h1>How much do I spend per month?</h1>
<p>Okay, we now have what we need to generate a complete fake financial year. Let’s assume I’ve made 250 expenses last year and I got paid on the very first day of each month.</p>
<pre class="r"><code># Use both function to generate financial year
drCr &lt;- rbind(generatedebit(250), generatecredit(12))

# And organize complete report by day
drCr &lt;- drCr[order(drCr[, 1]), ]</code></pre>
<p>We need to get a month’s labeling, preferably an abbreviation.</p>
<pre class="r"><code>drCr$Month &lt;- month(drCr$Days, label = TRUE, abbr = TRUE)</code></pre>
<p>And we also need to tag the credits and the debits correctly.</p>
<pre class="r"><code>drCr$CorD &lt;- ifelse(drCr$Amount &gt; 0, &quot;Credit&quot;, &quot;Debit&quot;)</code></pre>
<p>After what we need to transform so as to get the total amount per month before we get a first plot for credits and debits of the year.</p>
<pre class="r"><code>drCr %&gt;%
  ddply(.(Month, CorD), summarise,
        Amount = sum(abs(Amount))) %&gt;%
  ggplot(aes(x = Month, y = Amount, fill = CorD)) +
  geom_bar(stat = &quot;identity&quot;, alpha = .7, position = position_dodge()) +
  theme_minimal() +
  scale_fill_manual(values = c(&quot;darkgreen&quot;, &quot;darkred&quot;)) +
  labs(x = NULL, y = NULL,
       title = &quot;How much do I spend per month?&quot;,
       subtitle = &quot;Compared to my income&quot;) +
  theme(legend.title = element_blank())</code></pre>
<p><img src="../../../post/2017-05-26-beginners-guide-to-financial-report-with-r_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>It looks good to me! Nice way to visualize total expenses per month and compare with revenue. It worked well when I tried with my real report and months were I’ve been more or less reasonable can be easily spotted. Additionally, it seems I’ve been able to make some saving during the year. Yes, looking at my real summary too!</p>
</div>
<div id="did-i-get-richer-or-poorer" class="section level1">
<h1>Did I get richer or poorer?</h1>
<p>Cash flow statements report personal inflows and outflows of cash. This is important because you need to have enough cash on hand to pay for expenses and purchases. A cash flow statement shows changes over time rather than absolute amounts at a point in time.</p>
<p>We will use and reorders the information from the <code>drCr$Amount</code>. Let’s create <code>drCr$Saving</code> and then go though a loop to add (or subtract if negative values) the next line of expense. This will ensure we get the changes over time.</p>
<pre class="r"><code>drCr$Saving &lt;- drCr$Amount

for(i in 1:length(drCr$Days)-1) {
    drCr[i+1, &#39;Saving&#39;] &lt;- sum(drCr[i, &#39;Saving&#39;], drCr[i+1, &#39;Saving&#39;])
    i = i+1
    }</code></pre>
<p>We don’t even need to transform this one. It’s already per day like we’d like to plot. And here it’s.</p>
<pre class="r"><code>drCr %&gt;%
  ggplot(aes(Days, Saving)) +
  theme_minimal() +
  geom_line(size = .7, alpha = .7, color = &quot;lightblue&quot;) +
  geom_ribbon(aes(ymin = 0, ymax = Saving), fill = &quot;lightblue&quot;, alpha = .3) +
  labs(x = NULL, y = NULL,
       title = &quot;Did I get richer or poorer?&quot;,
       subtitle = &quot;What happened to my wealth&quot;)</code></pre>
<p><img src="../../../post/2017-05-26-beginners-guide-to-financial-report-with-r_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="what-do-i-spend-my-money-on" class="section level1">
<h1>What do I spend my money on?</h1>
<p>Well, we do have the big picture now and good news: I’m able to save some money. Fair enough. But how does it looks like individually for all the categories? Maybe I’d like to see where I spend my money and identify the biggest budgets.</p>
<p>This is an extremely easy one. In fact, we already have what we need and it’s just about removing all credits from the data this time. The rest is really straightforward. It simply reorganizes my data per month for all the different categories.</p>
<pre class="r"><code>subset(drCr, CorD != &quot;Credit&quot;) %&gt;%
  ddply(.(Month, Category), summarise,
        Amount = sum(abs(Amount))) %&gt;%
  ggplot(aes(x = Category, y = Amount, fill = Category)) +
  geom_bar(stat = &quot;identity&quot;, alpha = .7, position = position_dodge()) +
  theme_minimal() +
  scale_fill_brewer(palette = &quot;Spectral&quot;) +
  labs(x = NULL, y = NULL,
       title = &quot;What do I spend my money on?&quot;,
       subtitle = &quot;Months per Category&quot;) +
  theme(legend.title = element_blank(), axis.text.x = element_blank()) +
  facet_wrap(~Month, ncol = 4)</code></pre>
<p><img src="../../../post/2017-05-26-beginners-guide-to-financial-report-with-r_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="how-well-do-i-manage-my-budgets" class="section level1">
<h1>How well do I manage my budgets?</h1>
<p>What if I want to define some budgets in order to check if I’m able to allocate a sum of money for a particular purpose and stick to this over the year? A messy way to visualize this would be to define a limit, let’s say $400 and apply it to all categories.</p>
<pre class="r"><code>subset(drCr, CorD != &quot;Credit&quot;) %&gt;%
  ddply(.(Month, Category), summarise,
        Amount = sum(abs(Amount)),
        GorN = ifelse(sum(abs(Amount)) &lt; 400, &quot;Well Done&quot;, &quot;Not Managed&quot;)) %&gt;%
  ggplot(aes(x = Month, y = Amount, fill = GorN)) +
  geom_bar(stat = &quot;identity&quot;, alpha = .7, position = position_dodge()) +
  theme_minimal() +
  scale_fill_manual(values = c(&quot;darkred&quot;, &quot;darkgreen&quot;)) +
  labs(x = NULL, y = NULL,
       title = &quot;How well do I manage my budgets?&quot;,
       subtitle = &quot;$400 limit per month&quot;) +
  theme(legend.title = element_blank(), axis.text.x = element_blank()) +
  facet_wrap(~Category, ncol = 3)</code></pre>
<p><img src="../../../post/2017-05-26-beginners-guide-to-financial-report-with-r_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>I can clearly see for how many budgets per month I have given more than $400 away in red. This, somehow, helps to see if I balanced all my different budgets over the year but it’s very hard to identify them all. Not exactly what I’d like to report</p>
<p>So, probably you’d want your budget to be defined for a particular category with a limit allocated specifically for it. No worries, the following function can do that. It takes two arguments: the category and the limit you’d like to set up for this budget</p>
<pre class="r"><code>plotbudget &lt;- function(bud = &#39;Bills&#39;, lim = 250) {
  # Define function that automatically plots budgets
  bud &lt;- subset(drCr, Category == paste(bud)) %&gt;%
    ddply(.(Month), summarise,
          Amount = sum(abs(Amount)),
          GorN = ifelse(sum(abs(Amount)) &lt; lim, &quot;Well Done&quot;, &quot;Not Managed&quot;)) %&gt;%
    ggplot(aes(x = Month, y = Amount, fill = GorN)) +
    geom_bar(stat = &quot;identity&quot;, alpha = .7, position = position_dodge()) +
    theme_minimal() +
    scale_fill_manual(values = c(&quot;darkred&quot;, &quot;darkgreen&quot;)) +
    geom_hline(aes(yintercept = lim), colour = &quot;darkred&quot;, linetype = &quot;dashed&quot;) +
    labs(x = NULL, y = NULL,
         title = paste(&quot;How well do I manage my&quot;, tolower(bud), &quot;budget?&quot;),
         subtitle = paste(&quot;$&quot;, lim, &quot; limit per month&quot;, sep = &quot;&quot;)) +
    theme(legend.title = element_blank())

  return(bud)
}</code></pre>
<p>Now we can check how well we’ve managed our different budgets with individual limits. Much better!</p>
<pre class="r"><code>plotbudget(&quot;Food&quot;, 350); plotbudget(&quot;Restaurant&quot;, 250)</code></pre>
<p><img src="../../../post/2017-05-26-beginners-guide-to-financial-report-with-r_files/figure-html/unnamed-chunk-14-1.png" width="672" /><img src="../../../post/2017-05-26-beginners-guide-to-financial-report-with-r_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>Basic accounting is needed to plan for your future income and expenditures, and I found it to be extremely helpful if you use it as a guideline for your mid-term and long term financial goals. Any bank let you export your transactions that you can use in any accounting application.</p>
<p>On real data, you might have to use <code>lubridate</code> to read the dates properly and if necessary remove the <code>,</code> from amounts using <code>gsub(",", "", drCr$Amount)</code> before reading them as numeric <code>as.numeric(drCr$Amount)</code> as it wouldn’t work otherwise.</p>
<p>Great! Hopefully I’ve convinced you that with very little elbow grease, it’s really easy to do it yourself in R. Actually, it will even save you the money you’d have paid for the accounting application. So it’s already worth it for you savings!</p>
</div>

              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="../../../tags/lubridate/">lubridate</a>

  <a class="tag tag--primary tag--small" href="../../../tags/ggplot2/">ggplot2</a>

  <a class="tag tag--primary tag--small" href="../../../tags/dplyr/">dplyr</a>

                  </div>
                
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="../../../2017/06/bombs-away/" data-tooltip="Bombs Away!" aria-label="NEXT: Bombs Away!">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="../../../2016/06/wikipedia-hall-of-fame/" data-tooltip="Wikipedia Hall of Fame" aria-label="PREVIOUS: Wikipedia Hall of Fame">
          
              <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=../../../2017/05/beginners-guide-to-financial-report-with-r/" title="Share on Linkedin" aria-label="Share on Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/05/beginners-guide-to-financial-report-with-r/" title="Share on Facebook" aria-label="Share on Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/05/beginners-guide-to-financial-report-with-r/" title="Share on Twitter" aria-label="Share on Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#gitalk" aria-label="Leave a comment">
        <i class="fa fa-comment"></i>
      </a>
    </li>
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="Back to top">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  
    <div id="gitalk">
      <noscript>Please enable JavaScript to view the comments powered by Gitalk.</noscript>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.min.js" integrity="sha512-EcTCcXV46teiNwe0VcnM5A038tcY+BaQYO4nW6Gh2i7v4/HjBVg7xx3+JBLl9WofDds//INJAiEGAtdgr8PWyA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript">
      (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
          document.getElementById('gitalk').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
          return;
        }
        new Gitalk({
          clientID: '5d97e25ae259dc73e8c0',
          clientSecret: 'd9da4138c45cea58dba157391666b8bceb6d4a1f',
          repo: 'Gitalk',
          owner: 'Kawameicha',
          admin: ['Kawameicha'],
          id: 'f177698321e96fa890b826824b4ce64b',
          ...{"distractionfreemode":false,"enablehotkey":true,"language":"en","pagerdirection":"first","perpage":10}
        }).render('gitalk')
      })()
    </script>
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 Christoph Freier. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="../../../2017/06/bombs-away/" data-tooltip="Bombs Away!" aria-label="NEXT: Bombs Away!">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="../../../2016/06/wikipedia-hall-of-fame/" data-tooltip="Wikipedia Hall of Fame" aria-label="PREVIOUS: Wikipedia Hall of Fame">
          
              <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=../../../2017/05/beginners-guide-to-financial-report-with-r/" title="Share on Linkedin" aria-label="Share on Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/05/beginners-guide-to-financial-report-with-r/" title="Share on Facebook" aria-label="Share on Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i>
        </a>
      </li>
    
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/05/beginners-guide-to-financial-report-with-r/" title="Share on Twitter" aria-label="Share on Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </li>
    
  
  
    <li class="post-action">
      <a class="post-action-btn btn btn--default" href="#gitalk" aria-label="Leave a comment">
        <i class="fa fa-comment"></i>
      </a>
    </li>
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="Back to top">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      
<div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-times"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/sharing/share-offsite/?url=%2F2017%2F05%2Fbeginners-guide-to-financial-report-with-r%2F" aria-label="Share on Linkedin">
          <i class="fab fa-linkedin" aria-hidden="true"></i><span>Share on Linkedin</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2017%2F05%2Fbeginners-guide-to-financial-report-with-r%2F" aria-label="Share on Facebook">
          <i class="fab fa-facebook-square" aria-hidden="true"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2017%2F05%2Fbeginners-guide-to-financial-report-with-r%2F" aria-label="Share on Twitter">
          <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>


    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="../../../image/bio.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Christoph Freier</h4>
    
      <div id="about-card-bio">Hello, my name is Christoph Freier. Regularly, people stop me on the street and ask me <em>&ldquo;hey, what&rsquo;s your name?&rdquo;</em> I reply my name is Christoph Freier and I rock a great mustache.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        SaaS Application Consulting
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        I live in Berlin, Germany
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('/image/cover.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="../../../js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>






    
  </body>
</html>

